webpackJsonp([1],{NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("nav",{staticClass:"navbar navbar-dark bg-dark"},[e("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[this._v("Football League Result")])],1)},staticRenderFns:[]},o={name:"App",components:{Navbar:a("VU/8")(null,r,!1,null,null,null).exports}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Navbar"),this._v(" "),e("div",{staticClass:"container"},[e("router-view")],1)],1)},staticRenderFns:[]},i=a("VU/8")(o,n,!1,null,null,null).exports,m=a("/ocq"),l=a("kxiW"),c=a.n(l),_=(a("881v"),c.a.initializeApp({apiKey:"AIzaSyDzxv53fAF8kiD4pYFp5bWPwo5XlFCvn2w",authDomain:"footballresult-64ce4.firebaseapp.com",databaseURL:"https://footballresult-64ce4.firebaseio.com",projectId:"footballresult-64ce4",storageBucket:"footballresult-64ce4.appspot.com",messagingSenderId:"781025040910"}).firestore()),d={name:"result",data:function(){return{results_array:[],dates:[]}},created:function(){var t=this;_.collection("results").get().then(function(e){e.forEach(function(e){var a={id:e.id,home_team_name:e.data().home_team_name,home_team_score:e.data().home_team_score,away_team_name:e.data().away_team_name,away_team_score:e.data().away_team_score,date:e.data().date};-1===t.dates.indexOf(e.data().date)&&t.dates.push(e.data().date),t.dates.sort(function(t,e){return new Date(e)-new Date(t)}),t.results_array.push(a)})})}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"result"}},[a("br"),t._v(" "),a("div",{staticClass:"float-right"},[a("router-link",{staticClass:"btn btn-secondary",attrs:{to:"/add"}},[t._v("Add Result")]),t._v(" "),a("router-link",{staticClass:"btn btn-secondary",attrs:{to:"/league"}},[t._v("League Table")])],1),a("br"),a("br"),t._v(" "),t._l(t.dates,function(e){return a("div",{key:e},[a("p",{staticClass:"text-left font-weight-bold"},[t._v(t._s(e))]),t._v(" "),a("div",{staticClass:"list-group"},[t._l(t.results_array,function(s){return s.date==e?a("router-link",{key:s,staticClass:"list-group-item list-group-item-action",attrs:{to:{name:"edit-result",params:{id:s.id}}}},[s.home_team_score>s.away_team_score?a("div",{staticClass:"row"},[a("div",{staticClass:"col-5 text-left"},[a("b",{staticClass:"text-success"},[t._v(t._s(s.home_team_name)+" ")]),a("span",{staticClass:"badge badge-success"},[t._v(t._s(s.home_team_score))])]),t._v(" "),a("div",{staticClass:"col-2 text-center"},[t._v("vs")]),t._v(" "),a("div",{staticClass:"col-5 text-right"},[a("span",{staticClass:"badge badge-secondary"},[t._v(t._s(s.away_team_score))]),t._v(" "+t._s(s.away_team_name))])]):s.home_team_score===s.away_team_score?a("div",{staticClass:"row"},[a("div",{staticClass:"col-5 text-left"},[t._v(t._s(s.home_team_name)+" "),a("span",{staticClass:"badge badge-secondary"},[t._v(t._s(s.home_team_score))])]),t._v(" "),a("div",{staticClass:"col-2 text-center"},[t._v("vs")]),t._v(" "),a("div",{staticClass:"col-5 text-right"},[a("span",{staticClass:"badge badge-secondary"},[t._v(t._s(s.away_team_score))]),t._v(" "+t._s(s.away_team_name))])]):a("div",{staticClass:"row"},[a("div",{staticClass:"col-5 text-left"},[t._v(t._s(s.home_team_name)+" "),a("span",{staticClass:"badge badge-secondary"},[t._v(t._s(s.home_team_score))])]),t._v(" "),a("div",{staticClass:"col-2 text-center"},[t._v("vs")]),t._v(" "),a("div",{staticClass:"col-5 text-right"},[a("span",{staticClass:"badge badge-success"},[t._v(t._s(s.away_team_score))]),a("b",{staticClass:"text-success"},[t._v(" "+t._s(s.away_team_name))])])])]):t._e()}),t._v(" "),a("br"),a("br")],2)])})],2)},staticRenderFns:[]},v=a("VU/8")(d,u,!1,null,null,null).exports,h={name:"add_result",data:function(){return{home_team:"",away_team:"",home_team_score:"",away_team_score:"",date:"",team_array:[],team1_array:[]}},created:function(){var t=this;_.collection("teams").get().then(function(e){e.forEach(function(e){var a={id:e.id,name:e.data().name,pld:e.data().pld,pts:e.data().pts,win:e.data().win,loss:e.data().loss,draw:e.data().draw};t.team_array.push(a),t.team1_array.push(a)})})},methods:{saveResult:function(){var t=this.findId(this.team_array,this.home_team),e=this.findId(this.team1_array,this.away_team),a=this.pointCount(t,this.checkStatus().home_team),s=this.pointCount(e,this.checkStatus().away_team);_.collection("results").add({home_team_name:this.home_team,home_team_score:this.home_team_score,away_team_name:this.away_team,away_team_score:this.away_team_score,date:this.date}).then(function(t){console.log("data added!")}).catch(function(t){return console.log(t)}),_.collection("teams").doc(t.id).set(a),_.collection("teams").doc(e.id).set(s),this.$router.push("/")},findId:function(t,e){return t.find(function(t){if(t.name===e)return t})},pointCount:function(t,e){return"win"===e?{name:t.name,pld:t.pld+1,pts:t.pts+3,win:t.win+1,loss:t.loss+0,draw:t.draw+0}:"draw"===e?{name:t.name,pld:t.pld+1,pts:t.pts+1,win:t.win+0,loss:t.loss+0,draw:t.draw+1}:{name:t.name,pld:t.pld+1,pts:t.pts+0,win:t.win+0,loss:t.loss+1,draw:t.draw+0}},checkStatus:function(){return this.home_team_score>this.away_team_score?{home_team:"win",away_team:"loss"}:this.home_team_score===this.away_team_score?{home_team:"draw",away_team:"draw"}:{home_team:"loss",away_team:"win"}}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"add_result"}},[a("br"),t._v(" "),t._m(0),a("br"),a("br"),t._v(" "),a("form",{attrs:{role:"form"},on:{submit:function(e){return e.preventDefault(),t.saveResult(e)}}},[a("div",{staticClass:"form-row align-items-center"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"selectFirst"}},[t._v("Home")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.home_team,expression:"home_team"}],staticClass:"form-control",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.home_team=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",hidden:""}},[t._v("Select Home Team")]),t._v(" "),t._l(t.team_array,function(e){return a("option",{key:e.name,attrs:{disabled:e.name==t.away_team}},[t._v(t._s(e.name))])})],2)]),t._v(" "),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"selectSecong"}},[t._v("Away")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.away_team,expression:"away_team"}],staticClass:"form-control",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.away_team=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",hidden:""}},[t._v("Select Away Team")]),t._v(" "),t._l(t.team1_array,function(e){return a("option",{key:e.name,attrs:{disabled:e.name==t.home_team}},[t._v(t._s(e.name))])})],2)])]),t._v(" "),a("div",{staticClass:"form-row align-items-center"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"selectFirstScore"}},[t._v("Home Team Score")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.home_team_score,expression:"home_team_score"}],staticClass:"form-control",attrs:{type:"number",min:"0",max:"20",required:""},domProps:{value:t.home_team_score},on:{input:function(e){e.target.composing||(t.home_team_score=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"selectFirstScore"}},[t._v("Away Team Score")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.away_team_score,expression:"away_team_score"}],staticClass:"form-control",attrs:{type:"number",min:"0",max:"20",required:""},domProps:{value:t.away_team_score},on:{input:function(e){e.target.composing||(t.away_team_score=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-row align-items-center"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"inputdate"}},[t._v("Date")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],staticClass:"form-control",attrs:{type:"date",required:""},domProps:{value:t.date},on:{input:function(e){e.target.composing||(t.date=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Submit")]),t._v(" "),a("router-link",{staticClass:"btn btn-danger",attrs:{to:"/"}},[t._v("Cancel")])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex justify-content-center"},[e("h3",[this._v("Add Result")])])}]},w=a("VU/8")(h,p,!1,null,null,null).exports,f={name:"edit_result",data:function(){return{home_team:null,away_team:null,home_team_score:null,away_team_score:null,date:null,home_team_array:[],away_team_array:[],store_home_team:null,store_away_team:null,store_home_score:null,store_away_score:null}},created:function(){var t=this;_.collection("teams").get().then(function(e){e.forEach(function(e){var a={id:e.id,name:e.data().name,pld:e.data().pld,pts:e.data().pts,win:e.data().win,loss:e.data().loss,draw:e.data().draw};t.home_team_array.push(a),t.away_team_array.push(a)})})},beforeRouteEnter:function(t,e,a){_.collection("results").doc(t.params.id).get().then(function(t){a(function(e){e.home_team_score=t.data().home_team_score,e.home_team=t.data().home_team_name,e.away_team=t.data().away_team_name,e.away_team_score=t.data().away_team_score,e.date=t.data().date,e.store_home_score=t.data().home_team_score,e.store_home_team=t.data().home_team_name,e.store_away_team=t.data().away_team_name,e.store_away_score=t.data().away_team_score})})},watch:{$route:"fetchData"},methods:{fetchData:function(){_.collection("results").doc(this.$route.params.id).get().then(function(t){t.exists?(this.home_team_score=t.data().home_team_score,this.home_team=t.data().home_team_name,this.away_team=t.data().away_team_name,this.away_team_score=t.data().away_team_score,this.date=t.data().date):console.log("No such document!")}).catch(function(t){console.log("Error getting document:",t)})},updateResult:function(){var t=this.findId(this.home_team_array,this.store_home_team),e=this.findId(this.away_team_array,this.store_away_team),a=this.previousPointCount(t,this.checkPreviousStatus(this.store_home_score,this.store_away_score).home_team),s=this.previousPointCount(e,this.checkPreviousStatus(this.store_home_score,this.store_away_score).away_team);_.collection("teams").doc(t.id).set(a),_.collection("teams").doc(e.id).set(s),_.collection("results").doc(this.$route.params.id).set({home_team_name:this.home_team,away_team_name:this.away_team,home_team_score:this.home_team_score,away_team_score:this.away_team_score,date:this.date});var r=this.findId(this.home_team_array,this.home_team),o=this.findId(this.away_team_array,this.away_team),n=this.pointCount(a,this.checkStatus().home_team),i=this.pointCount(s,this.checkStatus().away_team);_.collection("teams").doc(r.id).set(n),_.collection("teams").doc(o.id).set(i),this.$router.push("/")},findId:function(t,e){return t.find(function(t){if(t.name===e)return t})},pointCount:function(t,e){return"win"===e?{name:t.name,pld:t.pld+1,pts:t.pts+3,win:t.win+1,loss:t.loss+0,draw:t.draw+0}:"draw"===e?{name:t.name,pld:t.pld+1,pts:t.pts+1,win:t.win+0,loss:t.loss+0,draw:t.draw+1}:{name:t.name,pld:t.pld+1,pts:t.pts+0,win:t.win+0,loss:t.loss+1,draw:t.draw+0}},previousPointCount:function(t,e){return"win"===e?{name:t.name,pld:t.pld-1,pts:t.pts-3,win:t.win-1,loss:t.loss+0,draw:t.draw+0}:"draw"===e?{name:t.name,pld:t.pld-1,pts:t.pts-1,win:t.win+0,loss:t.loss+0,draw:t.draw-1}:{name:t.name,pld:t.pld-1,pts:t.pts+0,win:t.win+0,loss:t.loss-1,draw:t.draw+0}},checkStatus:function(){return this.home_team_score>this.away_team_score?{home_team:"win",away_team:"loss"}:this.home_team_score===this.away_team_score?{home_team:"draw",away_team:"draw"}:{home_team:"loss",away_team:"win"}},checkPreviousStatus:function(t,e){return t>e?{home_team:"win",away_team:"loss"}:t===e?{home_team:"draw",away_team:"draw"}:{home_team:"loss",away_team:"win"}}}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"edit_result"}},[a("br"),t._v(" "),t._m(0),a("br"),a("br"),t._v(" "),a("form",{attrs:{role:"form"},on:{submit:function(e){return e.preventDefault(),t.updateResult(e)}}},[a("div",{staticClass:"form-row align-items-center"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"selectFirst"}},[t._v("Home")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.home_team,expression:"home_team"}],staticClass:"form-control",attrs:{type:"text",disabled:!0,required:""},domProps:{value:t.home_team},on:{input:function(e){e.target.composing||(t.home_team=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"selectSecong"}},[t._v("Away")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.away_team,expression:"away_team"}],staticClass:"form-control",attrs:{type:"text",disabled:!0,required:""},domProps:{value:t.away_team},on:{input:function(e){e.target.composing||(t.away_team=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-row align-items-center"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"selectFirstScore"}},[t._v("Home Team Score")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.home_team_score,expression:"home_team_score"}],staticClass:"form-control",attrs:{type:"number",min:"0",max:"20",required:""},domProps:{value:t.home_team_score},on:{input:function(e){e.target.composing||(t.home_team_score=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"selectFirstScore"}},[t._v("Away Team Score")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.away_team_score,expression:"away_team_score"}],staticClass:"form-control",attrs:{type:"number",min:"0",max:"20",required:""},domProps:{value:t.away_team_score},on:{input:function(e){e.target.composing||(t.away_team_score=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-row align-items-center"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"inputdate"}},[t._v("Date")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],staticClass:"form-control",attrs:{type:"date",required:""},domProps:{value:t.date},on:{input:function(e){e.target.composing||(t.date=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Update")]),t._v(" "),a("router-link",{staticClass:"btn btn-danger",attrs:{to:"/"}},[t._v("Cancel")])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex justify-content-center"},[e("h3",[this._v("Edit Result")])])}]},g=a("VU/8")(f,y,!1,null,null,null).exports,b={name:"league-table",data:function(){return{league_datas:[]}},created:function(){var t=this;_.collection("teams").get().then(function(e){e.forEach(function(e){var a={id:e.data().id,team:e.data().name,pld:e.data().pld,w:e.data().win,l:e.data().loss,d:e.data().draw,pts:e.data().pts};t.league_datas.push(a),t.league_datas.sort(function(t,e){return e.pts>t.pts})})})}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"league-table"}},[a("br"),t._v(" "),a("div",{staticClass:"float-right"},[a("router-link",{staticClass:"btn btn-secondary",attrs:{to:"/"}},[t._v("Back To Home")])],1),a("br"),a("br"),t._v(" "),a("table",{staticClass:"table"},[t._m(0),t._v(" "),a("tbody",t._l(t.league_datas,function(e,s){return a("tr",{key:e,attrs:{index:s,data:e}},[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1))]),t._v(" "),a("td",[t._v(t._s(e.team))]),t._v(" "),a("td",[t._v(t._s(e.pld))]),t._v(" "),a("td",[t._v(t._s(e.w))]),t._v(" "),a("td",[t._v(t._s(e.l))]),t._v(" "),a("td",[t._v(t._s(e.d))]),t._v(" "),a("td",[t._v(t._s(e.pts))])])}))])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-light"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Pos")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Team")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Pld")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("W")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("L")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("D")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Pts")])])])}]},x=a("VU/8")(b,C,!1,null,null,null).exports,k={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"404"},[e("br"),e("br"),this._v(" "),e("h2",[this._v("Page Not Found")])])}]},S=a("VU/8")({name:"404"},k,!1,null,null,null).exports;s.a.use(m.a);var P=new m.a({routes:[{path:"/",name:"result",component:v},{path:"/add",name:"add-result",component:w},{path:"/edit/:id",name:"edit-result",component:g},{path:"/league",name:"league-table",component:x},{path:"*",component:S}]});s.a.config.productionTip=!1,new s.a({el:"#app",router:P,components:{App:i},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.cd3c70e843406a97bc5c.js.map